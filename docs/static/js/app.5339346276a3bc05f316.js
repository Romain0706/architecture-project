webpackJsonp([1],{HsPP:function(o,t){},NHnr:function(o,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("7+uW"),e={render:function(){var o=this.$createElement,t=this._self._c||o;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")({name:"App"},e,!1,function(o){s("HsPP")},null,null).exports,a=s("/ocq"),r={name:"Home",data:function(){return{showLogs:!0,isRunning:!1,firstRun:!0,customersAmount:250,customersInitialAmount:0,customersWaiting:0,sleepTime:250,timeUnit:0,logs:[],colors:[{name:"#86aace",positions:[{x:.5,y:.5},{x:3.5,y:3.5}]},{name:"#f09f61",positions:[{x:1.5,y:.5},{x:2.5,y:3.5}]},{name:"#35bf4d",positions:[{x:2.5,y:.5},{x:1.5,y:3.5}]},{name:"#ff7373",positions:[{x:3.5,y:.5},{x:.5,y:3.5}]},{name:"#f8f9a2",positions:[{x:.5,y:1.5},{x:3.5,y:2.5}]},{name:"#003366",positions:[{x:1.5,y:1.5},{x:2.5,y:2.5}]},{name:"#ded9df",positions:[{x:2.5,y:1.5},{x:1.5,y:2.5}]},{name:"#c6d8f1",positions:[{x:3.5,y:1.5},{x:.5,y:2.5}]}],shop:[[{color:"#86aace",references:1e5},{color:"#f09f61",references:1e5},{color:"#35bf4d",references:1e5},{color:"#ff7373",references:1e5}],[{color:"#f8f9a2",references:1e5},{color:"#003366",references:1e5},{color:"#ded9df",references:1e5},{color:"#c6d8f1",references:1e5}],[{color:"#c6d8f1",references:1e5},{color:"#ded9df",references:1e5},{color:"#003366",references:1e5},{color:"#f8f9a2",references:1e5}],[{color:"#ff7373",references:1e5},{color:"#35bf4d",references:1e5},{color:"#f09f61",references:1e5},{color:"#86aace",references:1e5}]],robots:[{startPosition:{x:0,y:-.5},actualPosition:{x:0,y:-.5}},{startPosition:{x:1,y:-.5},actualPosition:{x:1,y:-.5}},{startPosition:{x:2,y:-.5},actualPosition:{x:2,y:-.5}},{startPosition:{x:3,y:-.5},actualPosition:{x:3,y:-.5}},{startPosition:{x:4,y:-.5},actualPosition:{x:4,y:-.5}},{startPosition:{x:0,y:4.5},actualPosition:{x:0,y:4.5}},{startPosition:{x:1,y:4.5},actualPosition:{x:1,y:4.5}},{startPosition:{x:2,y:4.5},actualPosition:{x:2,y:4.5}},{startPosition:{x:3,y:4.5},actualPosition:{x:3,y:4.5}},{startPosition:{x:4,y:4.5},actualPosition:{x:4,y:4.5}},{startPosition:{x:-.5,y:0},actualPosition:{x:-.5,y:0}},{startPosition:{x:-.5,y:1},actualPosition:{x:-.5,y:1}},{startPosition:{x:-.5,y:2},actualPosition:{x:-.5,y:2}},{startPosition:{x:-.5,y:3},actualPosition:{x:-.5,y:3}},{startPosition:{x:-.5,y:4},actualPosition:{x:-.5,y:4}},{startPosition:{x:4.5,y:0},actualPosition:{x:4.5,y:0}},{startPosition:{x:4.5,y:1},actualPosition:{x:4.5,y:1}},{startPosition:{x:4.5,y:2},actualPosition:{x:4.5,y:2}},{startPosition:{x:4.5,y:3},actualPosition:{x:4.5,y:3}},{startPosition:{x:4.5,y:4},actualPosition:{x:4.5,y:4}}]}},methods:{checkCanMoveX:function(o){return(o.actualPosition.x<o.goalPosition.x?o.actualPosition.x+.5:o.actualPosition.x-.5)===o.goalPosition.x?o.actualPosition.y===o.goalPosition.y:o.actualPosition.y%1==0},checkCanMoveY:function(o){return(o.actualPosition.x<o.goalPosition.x?o.actualPosition.x+.5:o.actualPosition.x-.5)===o.goalPosition.x||o.actualPosition.x%.5==0},moveRobots:function(){var o=this;o.robots.forEach(function(t,s){if("request"in t){var i=!1;t.actualPosition.x!==t.goalPosition.x||t.actualPosition.y!==t.goalPosition.y?(o.checkCanMoveX(t)&&(t.actualPosition.x=t.actualPosition.x<t.goalPosition.x?t.actualPosition.x+.5:t.actualPosition.x-.5,o.logs.push("Robots "+s+": move to x:"+t.actualPosition.x+" y:"+t.actualPosition.y),i=!0),i||o.checkCanMoveY(t)&&(t.actualPosition.y=t.actualPosition.y<t.goalPosition.y?t.actualPosition.y+.5:t.actualPosition.y-.5,o.logs.push("Robot "+s+": move to x:"+t.actualPosition.x+" y:"+t.actualPosition.y),i=!0)):t.actualPosition.x===t.startPosition.x&&t.actualPosition.y===t.startPosition.y?(delete t.request,delete t.timeToFetch,delete t.goalPosition,o.customersAmount--):"timeToFetch"in t?0===t.timeToFetch?(t.goalPosition.x=t.startPosition.x,t.goalPosition.y=t.startPosition.y):(t.timeToFetch--,o.logs.push("Robot "+s+" is fetching, "+t.timeToFetch+" times left")):(t.timeToFetch=5,o.logs.push("Robot "+s+"starts to fetch"))}})},getPosition:function(o){return"top: "+110*this.robots[o].actualPosition.y+"px; left: "+110*this.robots[o].actualPosition.x+"px;"},setRequests:function(){var o=this;o.robots.forEach(function(t,s){if(!("request"in t)&&o.customersWaiting<o.customersInitialAmount){var i=o.colors[Math.floor(Math.random()*Math.floor(o.colors.length))].name,e=Math.floor(Math.random()*Math.floor(1e3));t.request={color:i,references:e},o.logs.push("Setting request for robot "+s+" : color requested = "+i+", references requested = "+e),o.customersWaiting++}})},setGoals:function(){var o=this;o.robots.forEach(function(t){if(!("goalPosition"in t)&&"request"in t){var s=o.colors.find(function(o){return o.name===t.request.color}),i=s.positions[0],e=s.positions[1],n=Math.abs(t.actualPosition.x-i.x)+Math.abs(t.actualPosition.y-i.y),a=Math.abs(t.actualPosition.x-e.x)+Math.abs(t.actualPosition.y-e.y);t.goalPosition={},n>a?(t.goalPosition.x=i.x,t.goalPosition.y=i.y):(t.goalPosition.x=e.x,t.goalPosition.y=e.y)}})},main:function(){var o=this;o.isRunning&&(o.timeUnit++,o.setRequests(),o.setGoals(),o.moveRobots(),setTimeout(function(){o.customersAmount>0?o.main():(o.isRunning=!1,o.firstRun=!0)},o.sleepTime))},start:function(){!this.isRunning&&this.customersAmount>0&&(this.firstRun&&(this.firstRun=!1,this.customersInitialAmount=this.customersAmount),this.isRunning=!0,this.main())},stop:function(){this.isRunning=!1},reset:function(){location.reload()}}},c={render:function(){var o=this,t=o.$createElement,s=o._self._c||t;return s("div",{staticClass:"home-container"},[s("div",{staticClass:"settings-container"},[s("label",{attrs:{for:"customers"}},[o._v("Customers :")]),o._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:o.customersAmount,expression:"customersAmount"}],attrs:{id:"customers",type:"number",disabled:!o.firstRun},domProps:{value:o.customersAmount},on:{input:function(t){t.target.composing||(o.customersAmount=t.target.value)}}}),o._v(" "),s("label",{attrs:{for:"sleep-time"}},[o._v("Delay (ms) :")]),o._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:o.sleepTime,expression:"sleepTime"}],attrs:{id:"sleep-time",type:"number"},domProps:{value:o.sleepTime},on:{input:function(t){t.target.composing||(o.sleepTime=t.target.value)}}}),o._v(" "),s("p",{staticClass:"time-unit"},[o._v("Time Unit : "+o._s(o.timeUnit))]),o._v(" "),s("label",{attrs:{for:"logs"}},[o._v("Show logs :")]),o._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:o.showLogs,expression:"showLogs"}],attrs:{id:"logs",type:"checkbox"},domProps:{checked:Array.isArray(o.showLogs)?o._i(o.showLogs,null)>-1:o.showLogs},on:{change:function(t){var s=o.showLogs,i=t.target,e=!!i.checked;if(Array.isArray(s)){var n=o._i(s,null);i.checked?n<0&&(o.showLogs=s.concat([null])):n>-1&&(o.showLogs=s.slice(0,n).concat(s.slice(n+1)))}else o.showLogs=e}}}),s("br"),o._v(" "),o.showLogs?s("div",{staticClass:"log-container"},o._l(o.logs,function(t,i){return s("p",{key:i+"log"},[o._v(o._s(t))])})):o._e(),o._v(" "),o.isRunning?o._e():s("button",{on:{click:function(t){o.start()}}},[o._v("START")]),o._v(" "),o.isRunning?s("button",{on:{click:function(t){o.stop()}}},[o._v("STOP")]):o._e(),o._v(" "),s("button",{on:{click:function(t){o.reset()}}},[o._v("RESET")])]),o._v(" "),s("div",{staticClass:"app-container"},[s("div",{staticClass:"shop-container"},[o._l(o.shop,function(t,i){return s("div",{key:i+"column",staticClass:"shop-column"},o._l(t,function(o,t){return s("div",{key:t+"row",staticClass:"shop-row"},[s("div",{staticClass:"zone",style:{backgroundColor:o.color}})])}))}),o._v(" "),o._l(o.robots,function(t,i){return s("div",{key:i+"robot",staticClass:"robot",style:o.getPosition(i)})})],2)])])},staticRenderFns:[]};var l=s("VU/8")(r,c,!1,function(o){s("Pslk")},null,null).exports;i.a.use(a.a);var u=new a.a({routes:[{path:"/",name:"Home",component:l}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:u,components:{App:n},template:"<App/>"})},Pslk:function(o,t){}},["NHnr"]);
//# sourceMappingURL=app.5339346276a3bc05f316.js.map